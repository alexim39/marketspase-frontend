
    <div class="forum-container">
      <mat-toolbar color="primary" class="forum-header">
        @if (currentView === 'detail') {
          <button mat-icon-button (click)="backToList()">
            <mat-icon>arrow_back</mat-icon>
          </button>
        }
        <span class="title">Community Discussion Forum</span>
        <span class="spacer"></span>
        @if (isMobile()) {
            <button matMiniFab aria-label="New Discussion Thread" title="New Discussion Thread" (click)="openCreateThreadDialog()">
                <mat-icon>add</mat-icon>
            </button>
        } @else {
            <button mat-raised-button color="accent" (click)="openCreateThreadDialog()">
                <mat-icon>add</mat-icon>
                New Discussion Thread
            </button>
        }
       
      </mat-toolbar>

      <div class="forum-content">
        @if (currentView === 'list') {
          <div>
            <div class="popular-tags">
              <h3>Popular Tags</h3>
              <div class="tags-container">
                <mat-chip *ngFor="let tag of popularTags" (click)="filterByTag(tag)">
                  {{tag}}
                </mat-chip>
              </div>
            </div>

            @if (isLoading) {
              <div class="loading-spinner">
                <mat-spinner diameter="40"/>
                <span>Loading threads...</span>
              </div>
            } @else {
              <app-thread-list 
              [threads]="threads"
              (threadClicked)="navigateToThread($event)"
              />
            }
            @if (!isLoading && threads.length === 0) {
              <div class="no-threads">
                <mat-icon>forum</mat-icon>
                <p>No discussions found</p>
                <button mat-raised-button color="primary" (click)="openCreateThreadDialog()">
                  Start a discussion
                </button>
              </div>
            }
          </div>
        }
      </div>
    </div>